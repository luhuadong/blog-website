"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[65926],{82478:(s,t,e)=>{e.r(t),e.d(t,{default:()=>c});var r=e(96540),a=e(9888);const i={customInput:"customInput_E_A3",pixel:"pixel_z_W8",filterCode:"filterCode_Nndx",card:"card_cwsL"};var l=e(74848);class o{constructor(s,t,e){this.r=this.clamp(s),this.g=this.clamp(t),this.b=this.clamp(e)}toString(){return`rgb(${Math.round(this.r)}, ${Math.round(this.g)}, ${Math.round(this.b)})`}set(s,t,e){this.r=this.clamp(s),this.g=this.clamp(t),this.b=this.clamp(e)}hueRotate(s){void 0===s&&(s=0),s=s/180*Math.PI;const t=Math.sin(s),e=Math.cos(s);this.multiply([.213+.787*e-.213*t,.715-.715*e-.715*t,.072-.072*e+.928*t,.213-.213*e+.143*t,.715+.285*e+.14*t,.072-.072*e-.283*t,.213-.213*e-.787*t,.715-.715*e+.715*t,.072+.928*e+.072*t])}grayscale(s){void 0===s&&(s=1),this.multiply([.2126+.7874*(1-s),.7152-.7152*(1-s),.0722-.0722*(1-s),.2126-.2126*(1-s),.7152+.2848*(1-s),.0722-.0722*(1-s),.2126-.2126*(1-s),.7152-.7152*(1-s),.0722+.9278*(1-s)])}sepia(s){void 0===s&&(s=1),this.multiply([.393+.607*(1-s),.769-.769*(1-s),.189-.189*(1-s),.349-.349*(1-s),.686+.314*(1-s),.168-.168*(1-s),.272-.272*(1-s),.534-.534*(1-s),.131+.869*(1-s)])}saturate(s){void 0===s&&(s=1),this.multiply([.213+.787*s,.715-.715*s,.072-.072*s,.213-.213*s,.715+.285*s,.072-.072*s,.213-.213*s,.715-.715*s,.072+.928*s])}multiply(s){const t=this.clamp(this.r*s[0]+this.g*s[1]+this.b*s[2]),e=this.clamp(this.r*s[3]+this.g*s[4]+this.b*s[5]),r=this.clamp(this.r*s[6]+this.g*s[7]+this.b*s[8]);this.r=t,this.g=e,this.b=r}brightness(s){void 0===s&&(s=1),this.linear(s)}contrast(s){void 0===s&&(s=1),this.linear(s,-.5*s+.5)}linear(s,t){void 0===s&&(s=1),void 0===t&&(t=0),this.r=this.clamp(this.r*s+255*t),this.g=this.clamp(this.g*s+255*t),this.b=this.clamp(this.b*s+255*t)}invert(s){void 0===s&&(s=1),this.r=this.clamp(255*(s+this.r/255*(1-2*s))),this.g=this.clamp(255*(s+this.g/255*(1-2*s))),this.b=this.clamp(255*(s+this.b/255*(1-2*s)))}hsl(){const s=this.r/255,t=this.g/255,e=this.b/255,r=Math.max(s,t,e),a=Math.min(s,t,e);let i,l,o=(r+a)/2;if(r===a)i=l=0;else{const n=r-a;switch(l=o>.5?n/(2-r-a):n/(r+a),r){case s:i=(t-e)/n+(t<e?6:0);break;case t:i=(e-s)/n+2;break;case e:i=(s-t)/n+4}i/=6}return{h:100*i,s:100*l,l:100*o}}clamp(s){return Math.min(255,Math.max(0,s))}}class n{constructor(s){this.target=s,this.targetHSL=s.hsl(),this.reusedColor=new o(0,0,0)}solve(){const s=this.solveNarrow(this.solveWide());return{values:s.values,loss:s.loss,filter:this.css(s.values)}}solveWide(){const s=[60,180,18e3,600,1.2,1.2];let t={loss:1/0,values:[]};for(let e=0;t.loss>25&&e<3;e++){const e=[50,20,3750,50,100,100],r=this.spsa(5,s,15,e,1e3);r.loss<t.loss&&(t=r)}return t}solveNarrow(s){const t=s.loss,e=t+1,r=[.25*e,.25*e,e,.25*e,.2*e,.2*e];return this.spsa(t,r,2,s.values,500)}spsa(s,t,e,r,a){let i=null,l=1/0;const o=new Array(6),n=new Array(6),c=new Array(6);for(let d=0;d<a;d++){const a=e/Math.pow(d+1,.16666666666666666);for(let s=0;s<6;s++)o[s]=Math.random()>.5?1:-1,n[s]=r[s]+a*o[s],c[s]=r[s]-a*o[s];const u=this.loss(n)-this.loss(c);for(let e=0;e<6;e++){const i=u/(2*a)*o[e],l=t[e]/Math.pow(s+d+1,1);r[e]=h(r[e]-l*i,e)}const m=this.loss(r);m<l&&(i=r.slice(0),l=m)}return{values:i,loss:l};function h(s,t){let e=100;return 2===t?e=7500:4!==t&&5!==t||(e=200),3===t?s>e?s%=e:s<0&&(s=e+s%e):s<0?s=0:s>e&&(s=e),s}}loss(s){const t=this.reusedColor;t.set(0,0,0),t.invert(s[0]/100),t.sepia(s[1]/100),t.saturate(s[2]/100),t.hueRotate(3.6*s[3]),t.brightness(s[4]/100),t.contrast(s[5]/100);const e=t.hsl();return Math.abs(t.r-this.target.r)+Math.abs(t.g-this.target.g)+Math.abs(t.b-this.target.b)+Math.abs(e.h-this.targetHSL.h)+Math.abs(e.s-this.targetHSL.s)+Math.abs(e.l-this.targetHSL.l)}css(s){const t=function(t,e){return void 0===e&&(e=1),Math.round(s[t]*e)};return`invert(${t(0)}%)\nsepia(${t(1)}%)\nsaturate(${t(2)}%)\nhue-rotate(${t(3,3.6)}deg)\nbrightness(${t(4)}%)\ncontrast(${t(5)}%)`}}function c(){const[s,t]=(0,r.useState)("#6F4E37"),[e,c]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(""),[g,p]=(0,r.useState)(""),[v,b]=(0,r.useState)({filter:"",lossMessage:"",realColor:"",error:""});return(0,l.jsx)(a.A,{title:"CSS \u6ee4\u955c\u751f\u6210\u5668",description:"CSS Filter Generator, Online CSS filter calculator | CSS \u6ee4\u955c\u751f\u6210\u5668\uff0c\u5728\u7ebf CSS \u8fc7\u6ee4\u5668\u8ba1\u7b97\u5668",children:(0,l.jsxs)("div",{className:"container margin-vert--lg",children:[(0,l.jsx)("h1",{className:"text--center",children:"CSS \u6ee4\u955c\u751f\u6210\u5668"}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col col--6",children:(0,l.jsx)("div",{className:"card margin-bottom--md",children:(0,l.jsxs)("div",{className:"card__body",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"targetColor",children:"\u76ee\u6807\u989c\u8272\uff1a"}),(0,l.jsx)("input",{id:"targetColor",type:"text",className:`form-input ${i.customInput}`,placeholder:"#6F4E37",value:s,onChange:s=>t(s.target.value)}),(0,l.jsx)("button",{className:"button button--primary",onClick:()=>{const e=s.trim().toLowerCase().replace(/^#?/,"#");t(e);const r=function(s){s=s.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((s,t,e,r)=>t+t+e+e+r+r));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}(e);if(r)try{const s=new o(...r),t=new n(s).solve();let e="";e=t.loss<1?"This is a perfect result.":t.loss<5?"This is close enough.":t.loss<15?"The color is somewhat off. Consider running it again.":"The color is extremely off. Run it again!",b({filter:t.filter,lossMessage:`Loss: ${t.loss.toFixed(1)}. ${e}`,realColor:s.toString(),error:""})}catch(g){b((s=>({...s,error:"Error calculating filter. Please check the input."})))}else b((s=>({...s,error:"Invalid color format! Supported formats: #rrggbb, #rgb, rrggbb"})))},children:"\u8ba1\u7b97\u6ee4\u955c\u53c2\u6570"})]}),g&&(0,l.jsx)("div",{className:"alert alert--danger margin-top--md",children:g}),(0,l.jsxs)("div",{className:"margin-top--lg",children:[(0,l.jsx)("p",{children:"\u771f\u5b9e\u50cf\u7d20\u989c\u8272\uff08\u901a\u8fc7 background-color \u8bbe\u7f6e\uff09\uff1a"}),(0,l.jsx)("div",{className:i.pixel,style:{backgroundColor:v.realColor}})]}),(0,l.jsxs)("div",{className:"margin-top--lg",children:[(0,l.jsx)("p",{children:"\u5e94\u7528 CSS \u6ee4\u955c\u540e\u7684\u50cf\u7d20\u989c\u8272\uff1a"}),(0,l.jsx)("div",{className:i.pixel,style:{filter:v.filter,backgroundColor:"#000"},"data-filtered":"true"})]})]})})}),(0,l.jsx)("div",{className:"col col--6",children:(0,l.jsx)("div",{className:"card",children:(0,l.jsxs)("div",{className:"card__body",children:[v.filter&&(0,l.jsxs)("div",{className:"margin-top--lg",children:[(0,l.jsx)("pre",{className:i.filterCode,children:v.filter}),(0,l.jsx)("div",{className:"alert alert--info",dangerouslySetInnerHTML:{__html:v.lossMessage}})]}),v.error&&(0,l.jsx)("div",{className:"alert alert--danger margin-top--md",children:v.error})]})})})]})]})})}}}]);